function jsonPath(obj,expr,arg){var P={resultType:(arg&&arg.resultType)||"VALUE",result:[],normalize:function(e){var l=[];return e.replace(/[\['](\??\(.*?\))[\]']/g,function(e,t){return"[#"+(l.push(t)-1)+"]"}).replace(/'?\.'?|\['?/g,";").replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").replace(/#([0-9]+)/g,function(e,t){return l[t]})},asPath:function(e){for(var t=e.split(";"),l="$",o=1,a=t.length;o<a;o++)l+=/^[0-9*]+$/.test(t[o])?"["+t[o]+"]":"['"+t[o]+"']";return l},store:function(e,t){return e&&(P.result[P.result.length]="PATH"==P.resultType?P.asPath(e):t),!!e},trace:function(e,t,l){if(e){var e=(o=e.split(";")).shift(),o=o.join(";");if(t&&t.hasOwnProperty(e))P.trace(o,t[e],l+";"+e);else if("*"===e)P.walk(e,o,t,l,function(e,t,l,o,a){P.trace(e+";"+l,o,a)});else if(".."===e)P.trace(o,t,l),P.walk(e,o,t,l,function(e,t,l,o,a){"object"==typeof o[e]&&P.trace("..;"+l,o[e],a+";"+e)});else if(/,/.test(e))for(var a=e.split(/'?,'?/),n=0,i=a.length;n<i;n++)P.trace(a[n]+";"+o,t,l);else/^\(.*?\)$/.test(e)?P.trace(P.eval(e,t,l.substr(l.lastIndexOf(";")+1))+";"+o,t,l):/^\?\(.*?\)$/.test(e)?P.walk(e,o,t,l,function(e,t,l,o,a){var t=t.replace(/^\?\((.*?)\)$/,"$1"),n=o[e];P.eval(t,n,e)&&P.trace(e+";"+l,o,a)}):/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/.test(e)&&P.slice(e,o,t,l)}else P.store(l,t)},walk:function(e,t,l,o,a){if(l instanceof Array)for(var n=0,i=l.length;n<i;n++)n in l&&a(n,e,t,l,o);else if("object"==typeof l)for(var s in l)l.hasOwnProperty(s)&&a(s,e,t,l,o)},slice:function(e,t,l,o){if(l instanceof Array){var a=l.length,n=0,i=a,s=1;e.replace(/^(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)$/g,function(e,t,l,o){(n=parseInt(t||n)),(i=parseInt(l||i)),(s=parseInt(o||s))});for(var n=n<0?Math.max(0,n+a):Math.min(a,n),i=i<0?Math.max(0,i+a):Math.min(a,i),c=n;c<i;c+=s)P.trace(c+";"+t,l,o)}},eval:function(x,_v,_vname){try{return $&&_v&&eval(x.replace(/@/g,"_v"))}catch(e){throw new SyntaxError("jsonPath: "+e.message+": "+x.replace(/@/g,"_v").replace(/\^/g,"_a"));}},},$=obj;if(expr&&obj&&("VALUE"==P.resultType||"PATH"==P.resultType))return P.trace(P.normalize(expr).replace(/^\$;/,""),obj,"$"),P.result}function _open1111Menu(e,t,l,o,a,n,i,s,_textArgs){void 0===o&&(o=""),void 0===a&&(a=""),void 0===n&&(n=""),void 0===i&&(i=""),void 0===s&&(s="");o=tCodeMenu.getArgs(t,_textArgs);if(null!=o){var c=tCodeMenu.jq.extend({selectNum:parseInt(l),selected:[document.getElementById("{0}Cht".format(e)),document.getElementById(e)],filterMatch:""==i?[]:i.split(","),filterExclude:""==s?[]:s.split(","),onchange:n,},o);switch(t){case"city":case"cityEN":case"cityVI":case"cityTH":case"cityID":c.codeType=1}"4"==a?(c.codeType=4):"5"==a?(c.codeType=1):""!=a&&(c.codeType=3),tCodeMenu.open(c)}}(String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}),(String.prototype.ltrim=function(){return this.replace(/^\s+/,"")}),(String.prototype.rtrim=function(){return this.replace(/\s+$/,"")}),(String.prototype.left=function(e){return this.substr(0,e)}),(String.prototype.right=function(e){return this.substr(this.length-e,e)}),(String.prototype.format=function(){for(var e=this,t=0;t<arguments.length;t++)var l=new RegExp("\\{"+t+"\\}","g"),e=e.replace(l,arguments[t]);return e}),(String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),t)}),"object"!=typeof tcodeParams&&(tcodeParams={}),null==tcodeParams.tCodePath&&(tcodeParams.tCodePath="/includesU/tcodeMenu"),!(function(e,t,l){void 0!==l.module&&l.module.exports?(l.module.exports=t()):void 0!==l.define&&"function"===l.define&&l.define.amd?define(e,t):(l[e]=t())})("tCodeMenu",function(){class2type={};var $self={K:{OVERLAY:"tcode__overlay",OVERLAY_ACTIVE:"tcode__overlay--active",MODEL:"tcode__modal",MODAL_OPEN:"tcode__modal--open",DIALOG:"tcode__dialog",DIALOG_LOADING:"tcode__dialog--loading",HEADER:"tcode__header",HEADER_SEARCH:"tcode__header-search",HEADER_SEARCH_ACTIVE:"tcode__header-search--active",HEADER_SEARCH_TEXT:"tcode__header-search-text",HEADER_TITLE_NAME:"tcode__header-title-name",HEADER_SELECTED:"tcode__header-selected",HEADER_SELECTED_EXPAND:"tcode__header-selected--expand",HEADER_SELECTED_LIST:"tcode__header-selected-list",HEADER_SELECTED_EXT:"tcode__header-selected-ext",HEADER_SELECTED_EXT_ACTIVE:"tcode__header-selected-ext--active",HEADER_INFO:"tcode__header-info",HEADER_INFO_NUM:"tcode__header-info-num",HEADER_INFO_LINK:"tcode__header-info--link",BODY:"tcode__body",BODY_PANEL_ROOT:"tcode__panel--root",BODY_PANEL_AREA:"tcode__panel--area",BODY_PANEL_SEARCH:"tcode__panel--search",BODY_PANEL_ACTIVE:"tcode__panel--active",BODY_PANEL_ITEM:"tcode__panel-item",BODY_PANEL_ITEM_SELECTED:"tcode__panel-item--selected",FOOTER:"tcode__footer",FOOTER_BTN_ACTIVE:"tcode__btn--active",FOOTER_BTN_BACK:"tcode__btn-back",FOOTER_BTN_CLEAR:"tcode__btn-clear",},bufInput:[],store:{},lock:{itemClick:!1,search:!1},element:{overlay:{root:void 0},modal:{root:void 0,dialog:{root:void 0,header:{root:void 0,search:{root:void 0,text:void 0},selected:{root:void 0,list:void 0,ext:void 0},title_name:void 0,info:{root:void 0,num:void 0,link:void 0},},body:{root:void 0},footer:{root:void 0,btn_back:void 0,btn_clear:void 0},},},},option:void 0,optionRaw:void 0,};return(($self.jq={type:function(e){return null==e?String(e):class2type[toString.call(e)]||"object"},isArray:Array.isArray||function(e){return"array"===$self.jq.type(e)},isFunction:function(e){return"function"===$self.jq.type(e)},isWindow:function(e){return e&&"object"==typeof e&&"setInterval"in e},isPlainObject:function(e){if(!e||"object"!==$self.jq.type(e)||e.nodeType||$self.jq.isWindow(e))return!1;try{if(e.constructor&&!hasOwn.call(e,"constructor")&&!hasOwn.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(var t in e);return void 0===t||hasOwn.call(e,t)},extend:function(){var e,t,l,o,a,n=arguments[0]||{},i=1,s=arguments.length,c=!1;for("boolean"==typeof n&&((c=n),(n=arguments[1]||{}),(i=2)),"object"==typeof n||$self.jq.isFunction(n)||(n={}),s===i&&((n=this),--i);i<s;i++)if(null!=(e=arguments[i]))for(t in e)(a=n[t]),n!==(l=e[t])&&(c&&l&&($self.jq.isPlainObject(l)||(o=$self.jq.isArray(l)))?((a=o?((o=!1),a&&$self.jq.isArray(a)?a:[]):a&&$self.jq.isPlainObject(a)?a:{}),(n[t]=$self.jq.extend(c,a,l))):void 0!==l&&(n[t]=l));return n},}),($self.util={HasClass:function(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},AddClass:function(e,t){e.classList?e.classList.add(t):$self.util.HasClass(e,t)||(e.className+=" "+t)},RemoveClass:function(e,t){e.classList?e.classList.remove(t):$self.util.HasClass(e,t)&&((t=new RegExp("(\\s|^)"+t+"(\\s|$)")),(e.className=e.className.replace(t," ")))},ToggleClass:function(e,t){$self.util.HasClass(e,t)?$self.util.RemoveClass(e,t):$self.util.AddClass(e,t)},Attr:function(e,t,l){var o,a=void 0;return e instanceof Element&&(null==l?null!=(o=e.getAttribute(t))&&(a=o):e.setAttribute(t,l)),a},ForEach:function(e,t){for(var l=0;l<e.length;l++)if(0==t(e[l],l))break},Ajax:function(option){var _req=new XMLHttpRequest();null!=option.success&&(_req.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var _contentType=this.getResponseHeader("Content-Type"),_result=this.responseText;try{-1<_contentType.indexOf("application/json")?(_result=JSON.parse(_result)):-1<_contentType.indexOf("javascript")&&eval(_result)}catch(err){}option.success(_result)}}),_req.open(option.type,option.url),_req.send()},}),($self.headerSelectedExpand=function(){$self.util.ToggleClass($self.element.modal.dialog.header.selected.root,$self.K.HEADER_SELECTED_EXPAND)}),($self.parentCheck=function(e,t){var l=!1,e=$self.option.tree[e],o=parseInt(t);return(l=null!=e&&e.k!=e.p?e.p==o||$self.parentCheck(e.p,t):l)}),($self.panelUnActive=function(){var e=$self.element.modal.dialog.body.root,t=$self.element.modal.dialog.footer.btn_back;$self.util.RemoveClass(t,$self.K.FOOTER_BTN_ACTIVE);for(var l=0;l<e.children.length;l++){var o=e.children[l];if($self.util.HasClass(o,$self.K.BODY_PANEL_ACTIVE)){$self.util.RemoveClass(o,$self.K.BODY_PANEL_ACTIVE);break}}}),($self.buildItems=function(e,t){var l=[e,"","",""],o=["","","",""],a=["","","",""],n=[2,2,2,2],i=[void 0,void 0,void 0,void 0],e=$self.element.modal.dialog.body.root,s=void 0,c=void 0;if(t){if(($self.panelEach(function(e){$self.util.HasClass(e,$self.K.BODY_PANEL_ROOT)&&(s=e),$self.util.Attr(e,"k")==l[0]?((c=e),$self.util.HasClass(e,$self.K.BODY_PANEL_ROOT)||$self.util.AddClass(e,$self.K.BODY_PANEL_ACTIVE)):$self.util.RemoveClass(e,$self.K.BODY_PANEL_ACTIVE)}),null==c&&null!=(_data=$self.option.tree[l[0]]))){for(var r={g:{},i:[],o:""},d=0;d<_data.child.length;d++)if(((i[1]=_data.child[d]),(l[1]=i[1].k),(o[1]=i[1].v),(n[1]=i[1].ct),(a[1]="_"+i[1].g),null==r.g[a[1]]&&((r.g[a[1]]=""),r.i.push(a[1])),0==l[0]))"4"==$self.option.codeType?(r.g[a[1]]+='<label class="tcode-col-{2} tcode-md-{3} tcode__panel-item" k="{0}" data-count="0">{4}<b>{1}</b></label>'.format(l[1],o[1],$self.option.column.col[0],$self.option.column.md[0],'<input type="checkbox" value="{0}"  onclick="tCodeMenu.itemClick(this,false)" /><span></span>'.format(l[1]))):(r.g[a[1]]+='<div class="tcode-col-{2} tcode-md-{3} tcode__panel-item" k="{0}" data-count="0" onclick="tCodeMenu.itemClick(this,true)"> <b>{1}</b></div>'.format(l[1],o[1],$self.option.column.col[0],$self.option.column.md[0]));else if((0==d&&null!=i[1].parent&&(r.g[a[1]]+='<label class="tcode__panel-item l100" k="{0}">{2}<b>{1}</b></label>'.format(i[1].parent.k,i[1].parent.v,i[1].parent.ct>=$self.option.codeType?'<input type="checkbox" value="{0}" onclick="tCodeMenu.itemClick(this,false)" /><span></span>'.format(i[1].parent.k):"")),(r.g[a[1]]+='<label class="{4}tcode__panel-item{3}" k="{0}">{2}<b>{1}</b></label>'.format(l[1],o[1],n[1]>=$self.option.codeType?'<input type="checkbox" value="{0}" onclick="tCodeMenu.itemClick(this,false)" /><span></span>'.format(l[1]):"",0<i[1].child.length?" m100":"",0<i[1].child.length?"":" tcode-col-{0} tcode-md-{1} ".format($self.option.column.col[1],$self.option.column.md[1]))),0<i[1].child.length))for(var f=0;f<i[1].child.length;f++)(i[2]=i[1].child[f]),(l[2]=i[2].k),(o[2]=i[2].v),(a[2]="_"+i[2].g),null==r.g[a[2]]&&((r.g[a[2]]=""),r.i.push(a[2])),(r.g[a[2]]+='<label class="tcode-col-{2} tcode-md-{3} tcode__panel-item" k="{0}"><input type="checkbox" value="{0}" onclick="tCodeMenu.itemClick(this,false)" /><span></span><b>{1}</b></label>'.format(l[2],o[2],$self.option.column.col[1],$self.option.column.md[1]));if(0<r.i.length){for(var m="",d=0;d<r.i.length;d++){var u=r.i[d];m+='<ul class="tcode__panel-group"><li gp="{0}">{0}</li><li gp="{0}">{1}</li></ul>'.format(u.substring(1),r.g[u])}(r.o='{4}<div class="tcode__panel{2}{3}" k="{0}">{1}</div>'.format(l[0],m," {0}".format(0==l[0]?$self.K.BODY_PANEL_ROOT:$self.K.BODY_PANEL_ACTIVE),0==l[0]&&null!={tCodeCity:"",tCodeCollege:"",tCodeTRA:"",tCodeShopping:""}[$self.option.codeName]?" {0}".format($self.K.BODY_PANEL_AREA):"",0==l[0]?'<div class="tcode__panel tcode__panel--search"></div>':"")),null!=s?(e.insertBefore(document.createElement("div"),s).outerHTML=r.o):(e.appendChild(document.createElement("div")).outerHTML=r.o)}}}else if(null!=(i=$self.option.tree[l[0]])){var _=!0,h=[];if(1<$self.option.selectNum)for(d=0;d<$self.option.selectItems.length;d++){var p=$self.option.selectItems[d];p.k==i.k||$self.parentCheck(p.k,i.k)?(_=p.k!=i.k):h.push(p)}_&&h.length<$self.option.selectNum&&((t=i.v),("tCodeCity"!=$self.option.codeName&&"tCodeCityEN"!=$self.option.codeName)||(3==i.ct&&i.v1!=i.v&&(t="{0} {1}".format(i.v1,i.v))),h.push({k:i.k,v:t})),($self.option.selectItems=h)}$self.itemUpdate()}),($self.buildTree=function(e,t,l){for(var o=0;o<l.length;o++){var a=l[o];a.p==t&&((e[a.k].parent=e[a.p]),e[a.p].child.push(e[a.k]),$self.buildTree(e,a.k,l))}}),($self.loadData=function(){return new Promise(function(t,e){function l(e,t){for(var l in((e.data={}),t))e.data[l]=t[l]}function o(e){if(null!=e.data&&null!=e.data.arr&&0<e.data.arr.length){for(var t={},l=e.data.arr,o=0;o<l.length;o++)t[(f=l[o]).k]=f;for(var a=[e.filterMatch,e.filterExclude],n=0;n<a.length;n++){var i=a[n];if(0<i.length&&0<l.length){for(var s="",o=0;o<i.length;o++){var c=i[o];"0000"==c.right(4)?(s+=" || (@.k >= {0}0000 && @.k <= {0}9999)".format(c.left(2))):"00"==c.right(2)?(s+=" || (@.k >= {0}00 && @.k <= {0}99)".format(c.left(4))):(s+=" || (@.k == {0})".format(c))}""!=s&&(l=jsonPath({data:l},"$..data[?("+(s=1==n?"!({0})".format(s.substring(4)):s.substring(4))+")]"))}}if(0<l.length){for(var o=0,r={},d=0;d<l.length;d++)r[l[d].k]=l[d];for(;o<l.length;)for(;o<l.length;o++)if(null!=t[(f=l[o]).p]&&null==r[f.p]){(r[f.p]=t[f.p]),l.push(t[f.p]),o++;break}}for(o=0;o<l.length;o++){var f=l[o];if(null==e.tree[f.k]){var m,u=(e.tree[f.k]={child:[],parent:void 0});for(m in f)u[m]=f[m]}}(e.data.arr=l),$self.buildTree(e.tree,e.startNum,e.data.arr)}}var a;null==$self.option.data?((a=$self.option.codeName),null!=tcodeParams[a]?(l($self.option,tcodeParams[a]),o($self.option),t($self.option)):($self.util.AddClass($self.element.modal.dialog.root,$self.K.DIALOG_LOADING),$self.util.Ajax({type:"get",url:"{0}/data/{1}.js?v={2}".format(tcodeParams.tCodePath,a,Math.random()),success:function(e){l($self.option,tcodeParams[a]),o($self.option),t($self.option)},}))):(o($self.option),t($self.option))})}),($self.getRawArray=function(a){return new Promise(function(t,e){var l,o=$self.getArgs(a);null!=o&&((l=o.codeName),$self.util.Ajax({type:"get",url:"{0}/data/{1}.js?v={2}".format(tcodeParams.tCodePath,l,Math.random()),success:function(e){tcodeParams[l]&&tcodeParams[l].arr&&0<tcodeParams[l].arr.length&&t(tcodeParams[l].arr)},}))})}),($self.open=function(e){($self.option=$self.jq.extend({codeName:"",data:void 0,search:"",tree:{0:{child:[],parent:void 0,k:0,v:"",p:0,g:""}},title:"",info:void 0,column:{col:[1,1],md:[2,2]},codeType:2,selectNum:5,filterMatch:[],filterExclude:[],selected:[],selectItems:[],startNum:0,onchange:"",},e)),$self.init($self.option),$self.show(),$self.loadData().then(function(e){$self.selectItems.init($self.option),$self.buildItems($self.option.startNum,!0),$self.util.RemoveClass($self.element.modal.dialog.root,$self.K.DIALOG_LOADING)})}),($self.itemClick=function(o,a){$self.lock.itemClick||(($self.lock.itemClick=!0),setTimeout(function(){try{for(var e=0,t=o;t.parentElement;){if($self.util.HasClass(t.parentElement,$self.K.BODY_PANEL_ROOT)){var l=t.parentElement.querySelector(".{0}".format($self.K.BODY_PANEL_ITEM_SELECTED));l&&$self.util.RemoveClass(l,$self.K.BODY_PANEL_ITEM_SELECTED),$self.util.AddClass(o,$self.K.BODY_PANEL_ITEM_SELECTED);break}t=t.parentElement}(e=$self.util.HasClass(o,$self.K.BODY_PANEL_ITEM)?parseInt($self.util.Attr(o,"k")):parseInt(o.value)),isNaN(e)||($self.buildItems(e,a),1==$self.option.selectNum&&o.checked&&$self.enter())}catch(e){}$self.lock.itemClick=!1},300))}),($self.itemUpdate=function(){var e="",f=$self.option.selectItems,t=$self.element.modal.dialog.header.selected.ext,m=$self.element.modal.dialog.footer.btn_back,l=$self.element.modal.dialog.footer.btn_clear;if(($self.util.RemoveClass(m,$self.K.FOOTER_BTN_ACTIVE),0<f.length))for(var o=f.length-1;-1<o;o--)e+='<div k="{0}" v="{1}" onclick="tCodeMenu.clear({0})"></div>'.format(f[o].k,f[o].v);($self.element.modal.dialog.header.selected.list.innerHTML=e),$self.panelEach(function(e){if($self.util.HasClass(e,$self.K.BODY_PANEL_ROOT))for(var t=0;t<e.children.length;t++)for(var l=e.children[t].children[1],o=0;o<l.children.length;o++){var a=l.children[o],n=0,i=$self.util.Attr(a,"k");if(0<f.length)for(var s=0;s<f.length;s++)((d=f[s].k)!=i&&!$self.parentCheck(d,i))||n++;$self.util.Attr(a,"data-count",n);var c=null;if((c=a.querySelector('input[type="checkbox"]'))){var r={disabled:!1,checked:!1};if(0<f.length)for(var d=[c.value,""],t=0;t<f.length;t++){if(((d[1]=""+f[t].k),d[0]==d[1])){r={disabled:!1,checked:!0};break}if($self.parentCheck(d[0],d[1])){r={disabled:!0,checked:!0};break}}1<$self.option.selectNum&&f.length>=$self.option.selectNum&&(r.checked||(r.disabled=!0)),(c.disabled=r.disabled),(c.checked=r.checked)}}else if($self.util.HasClass(e,$self.K.BODY_PANEL_ACTIVE)){$self.util.AddClass(m,$self.K.FOOTER_BTN_ACTIVE);for(t=0;t<e.children.length;t++)for(l=e.children[t].children[1],o=0;o<l.children.length;o++){c=null;if((c=(a=l.children[o]).querySelector('input[type="checkbox"]'))){r={disabled:!1,checked:!1};if(0<f.length)for(d=[c.value,""],t=0;t<f.length;t++){if(((d[1]=""+f[t].k),d[0]==d[1])){r={disabled:!1,checked:!0};break}if($self.parentCheck(d[0],d[1])){r={disabled:!0,checked:!0};break}}1<$self.option.selectNum&&f.length>=$self.option.selectNum&&(r.checked||(r.disabled=!0)),(c.disabled=r.disabled),(c.checked=r.checked)}}}}),$self.util.Attr($self.element.modal.dialog.header.info.num,"data-num",f.length),0<f.length?($self.util.AddClass(t,$self.K.HEADER_SELECTED_EXT_ACTIVE),$self.util.AddClass(l,$self.K.FOOTER_BTN_ACTIVE),$self.util.Attr(l,"data-count",f.length)):($self.util.RemoveClass(t,$self.K.HEADER_SELECTED_EXT_ACTIVE),$self.util.RemoveClass(l,$self.K.FOOTER_BTN_ACTIVE))}),($self.searchActive=function(){$self.util.AddClass($self.element.modal.dialog.header.search.root,$self.K.HEADER_SEARCH_ACTIVE)}),($self.searchBack=function(){var t=!1;$self.util.RemoveClass($self.element.modal.dialog.header.search.root,$self.K.HEADER_SEARCH_ACTIVE),$self.panelEach(function(e){$self.util.HasClass(e,$self.K.BODY_PANEL_SEARCH)?$self.util.RemoveClass(e,$self.K.BODY_PANEL_ACTIVE):$self.util.HasClass(e,$self.K.BODY_PANEL_ACTIVE)&&(t=!0)}),t||$self.util.RemoveClass($self.element.modal.dialog.footer.btn_back,$self.K.FOOTER_BTN_ACTIVE)}),($self.search=function(){$self.bufInput.push({val:$self.element.modal.dialog.header.search.text.value,time:new Date().getTime()}),setTimeout(function(){var t,e,l;0<$self.bufInput.length&&!$self.lock.search&&(($self.lock.search=!0),(t=null),(l=[(e=""),""]),$self.util.RemoveClass($self.element.modal.dialog.footer.btn_back,$self.K.FOOTER_BTN_ACTIVE),$self.panelEach(function(e){$self.util.HasClass(e,$self.K.BODY_PANEL_SEARCH)?(t=e):$self.util.HasClass(e,$self.K.BODY_PANEL_ACTIVE)&&$self.util.RemoveClass(e,$self.K.BODY_PANEL_ACTIVE)}),(l[0]=$self.bufInput[$self.bufInput.length-1].val),($self.bufInput=[]),null!=l[0]&&""!=l[0]?($self.util.AddClass(t,$self.K.DIALOG_LOADING),setTimeout(function(){(e=$self._searchRun(l[0])),(t.innerHTML='<ul class="tcode-group"><li gp=""></li><li gp=""><div class="tcode-col-1"><b>搜尋 "<i>{0}</i>"，共 <i>{1}</i> 筆</b></div>'.format(l[0],e.length)+e.html+"</li></ul>"),$self.util.AddClass(t,$self.K.BODY_PANEL_ACTIVE),$self.util.RemoveClass(t,$self.K.DIALOG_LOADING),$self.itemUpdate()},300)):((t.innerHTML='<ul class="tcode__panel-group"><li gp=""></li><li gp=""><div class="tcode-col-1"><i>您沒有輸入字元！</i></div></li></ul>'),$self.util.AddClass(t,$self.K.BODY_PANEL_ACTIVE)),($self.lock.search=!1))},300)}),($self._searchReplaceKeyWord=function(e,t,l){var o=[-1,e],a=-1;return(0<e.length&&0<t.length&&-1<(a=-1==(a=e.indexOf(t,l))?e.toLowerCase().indexOf(t.toLowerCase(),l):a)&&((l=[e.substring(0,a),"<i>{0}</i>".format(e.substring(a,a+t.length)),e.substring(a+t.length)]),(o[0]=a+l[1].length),(o[1]=l.join(""))),o)}),($self._searchRun=function(e){var t={html:"",length:0};if(null!=e&&""!=e){for(var l=e.trim().split(" "),o=[],e=$self._searchFn,a=0;a<l.length;a++)null!=l[a]&&""!=l[a]&&o.push(l[a]);var n=e($self.option.data.arr,o.join(","));if(0<n.length){t.length=n.length;for(a=0;a<n.length;a++){for(var i=n[a],s=i.k,c=[i.v,i.cd],r=0;r<o.length;r++)for(var d,f=o[r],m=0;m<c.length;m++){for(d=[0,c[m]];-1<d[0];)d=$self._searchReplaceKeyWord(d[1],f,d[0]);c[m]=d[1]}t.html+='<label class="tcode-col-1 tcode__panel-item" k="{0}"><input type="checkbox" value="{0}" onclick="tCodeMenu.itemClick(this,false)" /><span></span><b>{1}</b></label><div class="tcode-col-1">{2}</div>'.format(s,c[0],c[1])}}}return t}),($self._searchFn=function(e,t){var l=[],f=t.split(",");if(0<f.length){for(var o=0;o<e.length;o++){for(var a=e[o],n=[],i=!1,s=0;s<f.length;s++){var c=f[s];0==s&&(i=!0),n.push(!1),"tCodeDutyNM"==$self.option.codeName?2<a.ct&&(-1<a.cd.indexOf(c)||-1<a.cd.toLowerCase().indexOf(c.toLowerCase())||-1<a.v.indexOf(c)||-1<a.v.toLowerCase().indexOf(c.toLowerCase())||-1<a.v1.indexOf(c)||-1<a.v1.toLowerCase().indexOf(c.toLowerCase())||-1<a.ca.indexOf(c)||-1<a.ca.toLowerCase().indexOf(c.toLowerCase())||-1<a.cn.indexOf(c)||-1<a.cn.toLowerCase().indexOf(c.toLowerCase())||-1<a.cl.indexOf(c)||-1<a.cl.toLowerCase().indexOf(c.toLowerCase()))&&(n[s]=!0):2<a.ct&&(-1<a.cd.indexOf(c)||-1<a.cd.toLowerCase().indexOf(c.toLowerCase())||-1<a.v.indexOf(c)||-1<a.v.toLowerCase().indexOf(c.toLowerCase())||-1<a.v1.indexOf(c)||-1<a.v1.toLowerCase().indexOf(c.toLowerCase()))&&(n[s]=!0)}for(s=0;s<n.length;s++)if(0==n[s]){i=!1;break}i&&l.push(a)}0<l.length&&l.sort(function(e,t){for(var l=[0,0],o=["v","v1","cd"],a=[100,30,10],n=0;n<o.length;n++)for(var i=o[n],s=a[n],c=0;c<f.length;c++){var r=f[c],d=[-1,-1];(d[0]=e[i].indexOf(r)),-1==d[0]&&(d[0]=e[i].toLowerCase().indexOf(r.toLowerCase())),(d[1]=t[i].indexOf(r)),-1==d[1]&&(d[1]=t[i].toLowerCase().indexOf(r.toLowerCase())),-1<d[0]&&(l[0]+=s),-1<d[1]&&(l[1]+=s),-1<d[0]&&-1<d[1]&&(d[0]<d[1]?(l[0]+=s/2):d[1]<d[0]&&(l[1]+=s/2))}return l[1]<l[0]?-1:l[0]<l[1]?1:0})}return l}),($self.panelEach=function(e){for(var t=$self.element.modal.dialog.body.root,l=0;l<t.children.length;l++)e(t.children[l])}),($self.clear=function(e){var t=$self.option.selectItems,l=[];if(null!=e)for(var o=0;o<t.length;o++){var a=t[o];a.k!=e&&l.push(a)}($self.option.selectItems=l),$self.itemUpdate()}),($self.enter=function(){$self.close(),$self.selectItems.finsh($self.option);try{""==!$self.option.onchange&&eval($self.option.onchange)}catch(err){}}),($self.show=function(){$self.util.AddClass($self.element.overlay.root,$self.K.OVERLAY_ACTIVE),$self.util.AddClass(document.body,$self.K.MODAL_OPEN)}),($self.close=function(){$self.util.RemoveClass($self.element.overlay.root,$self.K.OVERLAY_ACTIVE),$self.util.RemoveClass(document.body,$self.K.MODAL_OPEN)}),($self.init=function(e){null==$self.element.overlay.root&&((document.body.appendChild(document.createElement("div")).outerHTML='<div class="tcode__overlay" onclick="tCodeMenu.close()"></div><div class="tcode__modal" tabindex="-1" aria-modal="true">  <div class="tcode__dialog tcode__dialog--loading">      <div class="tcode__dialog-item tcode__header">          <div class="tcode__header-title">              <b class="tcode__header-title-item tcode__header-title-left" onclick="tCodeMenu.searchActive()"></b>              <b class="tcode__header-title-item tcode__header-title-name"></b>              <b class="tcode__header-title-item tcode__header-title-right" onclick="tCodeMenu.close()"></b>          </div>          <div class="tcode__header-info">              <div class="tcode__header-info-item tcode__header-info-num" aria-label="可選擇：" data-num="0" data-max="0"></div>              <a class="tcode__header-info-item tcode__header-info--link" title="" aria-label="" href="#" target="_blank"></a>          </div>          <div class="tcode__header-selected">              <div class="tcode__header-selected-item tcode__header-selected-list"></div>              <div class="tcode__header-selected-item tcode__header-selected-ext" onclick="tCodeMenu.headerSelectedExpand()"></div>          </div>          <div class="tcode__header-search"><div class="tcode__header-search-item-left"><input id="searchplaceholder" class="tcode__header-search-item select-text tcode__header-search-text" type="text" value="" placeholder="" onkeyup="tCodeMenu.search()" />              <b class="tcode__header-search-item tcode__header-search-right" onclick="tCodeMenu.search()"></b></div><div class="tcode__header-search-item-right"><b class="tcode__header-search-item tcode__header-search-left" onclick="tCodeMenu.searchBack()"></b></div></div>      </div>      <div class="tcode__dialog-item tcode__body"></div>      <div class="tcode__dialog-item tcode__footer">          <button type="button" class="tcode__btn tcode__btn-outline-secondary tcode__btn-back" onclick="tCodeMenu.panelUnActive()"></button>          <button type="button" class="tcode__btn tcode__btn-outline-danger tcode__btn-clear" data-count="0" onclick="tCodeMenu.clear()"></button>          <button type="button" class="tcode__btn tcode__btn-outline-primary tcode__btn-enter tcode__btn--active" onclick="tCodeMenu.enter()"></button>      </div>  </div></div>'),($self.element.overlay.root=document.querySelector("."+$self.K.OVERLAY)),($self.element.modal.root=document.querySelector("."+$self.K.MODEL)),($self.element.modal.dialog.root=document.querySelector("."+$self.K.DIALOG)),($self.element.modal.dialog.header.root=document.querySelector("."+$self.K.HEADER)),($self.element.modal.dialog.header.search.root=document.querySelector("."+$self.K.HEADER_SEARCH)),($self.element.modal.dialog.header.search.text=document.querySelector("."+$self.K.HEADER_SEARCH_TEXT)),($self.element.modal.dialog.header.title_name=document.querySelector("."+$self.K.HEADER_TITLE_NAME)),($self.element.modal.dialog.header.selected.root=document.querySelector("."+$self.K.HEADER_SELECTED)),($self.element.modal.dialog.header.selected.list=document.querySelector("."+$self.K.HEADER_SELECTED_LIST)),($self.element.modal.dialog.header.selected.ext=document.querySelector("."+$self.K.HEADER_SELECTED_EXT)),($self.element.modal.dialog.header.info.root=document.querySelector("."+$self.K.HEADER_INFO)),($self.element.modal.dialog.header.info.link=document.querySelector("."+$self.K.HEADER_INFO_LINK)),($self.element.modal.dialog.header.info.num=document.querySelector("."+$self.K.HEADER_INFO_NUM)),($self.element.modal.dialog.body.root=document.querySelector("."+$self.K.BODY)),($self.element.modal.dialog.footer.root=document.querySelector("."+$self.K.FOOTER)),($self.element.modal.dialog.footer.btn_back=document.querySelector("."+$self.K.FOOTER_BTN_BACK)),($self.element.modal.dialog.footer.btn_clear=document.querySelector("."+$self.K.FOOTER_BTN_CLEAR))),($self.element.modal.dialog.body.root.innerHTML=""),($self.element.modal.dialog.header.selected.list.innerHTML=""),(document.querySelector("#searchplaceholder").value=""),$self.util.RemoveClass($self.element.modal.dialog.header.selected.root,$self.K.HEADER_SELECTED_EXPAND),$self.util.RemoveClass($self.element.modal.dialog.header.search.root,$self.K.HEADER_SEARCH_ACTIVE),$self.util.Attr($self.element.modal.dialog.header.info.num,"data-max",e.selectNum),$self.util.Attr($self.element.modal.dialog.header.info.link,"title",""),$self.util.Attr($self.element.modal.dialog.header.info.link,"aria-label",""),$self.util.Attr($self.element.modal.dialog.header.info.link,"href",""),null!=e.info&&($self.util.Attr($self.element.modal.dialog.header.info.link,"title",e.info.label_d),$self.util.Attr($self.element.modal.dialog.header.info.link,"aria-label",e.info.label_m),$self.util.Attr($self.element.modal.dialog.header.info.link,"href",e.info.link)),$self.util.Attr($self.element.modal.dialog.header.title_name,"title",e.title),$self.util.Attr($self.element.modal.dialog.header.search.text,"placeholder",e.info?.placeholder??'')}),($self.selectItems={finsh:function(e){var t=[],l=[],o=e.selectItems;if(0<o.length)for(var a=0;a<o.length;a++)t.push(o[a].v),l.push(o[a].k);try{($self.option.selected[0].value=t.join(",")),($self.option.selected[1].value=l.join(","))}catch(e){}},init:function(e){if(0<e.selected.length)try{var t=e.selected[0].value;if(null!=(l=e.selected[1].value)&&""!=l.trim())for(var l=l.split(","),t=t&&0<t.length?t.split(","):[],o=0;o<l.length;o++){var a=l[o].trim(),n=t.length>o?t[o].trim():"";if(""==n&&0<e.data.arr.length)for(var i=0;i<e.data.arr.length;i++){var s=e.data.arr[i];if(s.k==a){n="tCodeCity"==e.codeName&&s.v1!=s.v?"{0} {1}".format(s.v1,s.v):s.v;break}}0<a.length&&0<n.length&&"0"!=a&&e.selectItems.push({k:a,v:n})}}catch(e){}},}),($self.getArgs=function(e,extend){const setExtend=function(extend){const result={label_d:"沒有找到類別嗎？",label_m:"沒有找到類別嗎？",link:"https://www.1111.com.tw/help/service.asp?qaNo=qno3-4",placeholder: "請輸入職類關鍵字"};if(!extend)return result;if(extend.link)result.link=extend.link;if(extend.d)result.label_d=extend.d;if(extend.m)result.label_m=extend.m;if(extend.placeholder)result.placeholder = extend.placeholder;return result};const info=setExtend(extend);return{duty_NM:{codeName:"tCodeDutyNM",title:"職務選單(全職)",column:{col:[1,2],md:[3,2]},info:info,},duty_PT:{codeName:"tCodeDutyPT",title:"職務選單(兼職)",column:{col:[1,2],md:[3,2]},info:info,},duty_ST:{codeName:"tCodeDutyST",title:"職務選單(工讀)",column:{col:[1,2],md:[3,2]},info:info,},duty_TU:{codeName:"tCodeDutyTU",title:"類別選單(家教)",column:{col:[1,2],md:[3,2]},info:info,},duty_HL:{codeName:"tCodeDutyHL",title:"職務選單(中高階)",column:{col:[1,2],md:[3,2]},info:info,},duty_AG:{codeName:"tCodeDutyAG",title:"職務選單(派遣)",column:{col:[1,2],md:[3,2]},info:info,},duty_CA:{codeName:"tCodeDutyCA",title:"類別選單(外包)",column:{col:[1,2],md:[3,2]},info:info,},duty_CN:{codeName:"tCodeDutyCN",title:"類別選單",column:{col:[1,2],md:[3,2]}},duty_EN:{codeName:"tCodeDuty_EN",title:"Job Category",column:{col:[1,1],md:[1,1]}},duty_VI:{codeName:"tCodeDuty_VI",title:"Job Category",column:{col:[1,1],md:[1,1]}},duty_TH:{codeName:"tCodeDuty_TH",title:"Job Category",column:{col:[1,1],md:[1,1]}},duty_ID:{codeName:"tCodeDuty_ID",title:"Job Category",column:{col:[1,1],md:[1,1]}},city:{codeName:"tCodeCity",title:"地區類別選單",column:{col:[2,2],md:[4,2]}},cityEN:{codeName:"tCodeCity_EN",title:"City Category",column:{col:[1,1],md:[4,2]}},cityVI:{codeName:"tCodeCity_VI",title:"City Category",column:{col:[1,1],md:[4,2]}},cityTH:{codeName:"tCodeCity_TH",title:"City Category",column:{col:[1,1],md:[4,2]}},cityID:{codeName:"tCodeCity_ID",title:"City Category",column:{col:[1,1],md:[4,2]}},trade:{codeName:"tCodeTrade",title:"行業類別選單",column:{col:[1,1],md:[3,2]}},tradeEN:{codeName:"tCodeTrade_EN",title:"Trade Category",column:{col:[1,1],md:[1,1]}},tradeVI:{codeName:"tCodeTrade_VI",title:"Trade Category",column:{col:[1,1],md:[1,1]}},tradeTH:{codeName:"tCodeTrade_TH",title:"Trade Category",column:{col:[1,1],md:[1,1]}},tradeID:{codeName:"tCodeTrade_ID",title:"Trade Category",column:{col:[1,1],md:[1,1]}},major:{codeName:"tCodeMajor",title:"科系類別選單",column:{col:[1,1],md:[3,2]}},majorEN:{codeName:"tCodeMajor_EN",title:"Major Category",column:{col:[1,1],md:[1,1]}},majorVI:{codeName:"tCodeMajor_VI",title:"Major Category",column:{col:[1,1],md:[1,1]}},majorTH:{codeName:"tCodeMajor_TH",title:"Major Category",column:{col:[1,1],md:[1,1]}},majorID:{codeName:"tCodeMajor_ID",title:"Major Category",column:{col:[1,1],md:[1,1]}},nation:{codeName:"tCodeNation",title:"國家類別",column:{col:[2,2],md:[4,2]}},nationEN:{codeName:"tCodeNation_EN",title:"Nation Category",column:{col:[2,2],md:[1,1]}},nationVI:{codeName:"tCodeNation_VI",title:"Nation Category",column:{col:[2,2],md:[1,1]}},nationTH:{codeName:"tCodeNation_TH",title:"Nation Category",column:{col:[2,2],md:[1,1]}},nationID:{codeName:"tCodeNation_ID",title:"Nation Category",column:{col:[2,2],md:[1,1]}},compskill:{codeName:"tCodeCompSkill",title:"電腦技能選單",column:{col:[1,1],md:[3,2]}},compskillEN:{codeName:"tCodeCompSkill_EN",title:"computer Category",column:{col:[1,1],md:[1,1]}},compskillVI:{codeName:"tCodeCompSkill_VI",title:"computer Category",column:{col:[1,1],md:[1,1]}},compskillTH:{codeName:"tCodeCompSkill_TH",title:"computer Category",column:{col:[1,1],md:[1,1]}},compskillID:{codeName:"tCodeCompSkill_ID",title:"computer Category",column:{col:[1,1],md:[1,1]}},certify:{codeName:"tCodeCertify",title:"專業證照選單",column:{col:[1,1],md:[3,1]}},certifyEN:{codeName:"tCodeCertify_EN",title:"license Category",column:{col:[1,1],md:[1,1]}},certifyVI:{codeName:"tCodeCertify_VI",title:"license Category",column:{col:[1,1],md:[1,1]}},certifyTH:{codeName:"tCodeCertify_TH",title:"license Category",column:{col:[1,1],md:[1,1]}},certifyID:{codeName:"tCodeCertify_ID",title:"license Category",column:{col:[1,1],md:[1,1]}},workability:{codeName:"tCodeWorkAbility",title:"工作技能選單",column:{col:[1,1],md:[4,1]}},workabilityEN:{codeName:"tCodeWorkAbility_EN",title:"workability Category",column:{col:[1,1],md:[1,1]}},workabilityVI:{codeName:"tCodeWorkAbility_VI",title:"workability Category",column:{col:[1,1],md:[1,1]}},workabilityTH:{codeName:"tCodeWorkAbility_TH",title:"workability Category",column:{col:[1,1],md:[1,1]}},workabilityID:{codeName:"tCodeWorkAbility_ID",title:"workability Category",column:{col:[1,1],md:[1,1]}},college:{codeName:"tCodeCollege",title:"大專院校選單",column:{col:[2,1],md:[4,2]}},mrt:{codeName:"tCodeMRT",title:"捷運站選單",column:{col:[2,2],md:[4,2]}},tra:{codeName:"tCodeTRA",title:"火車站選單",column:{col:[2,2],md:[4,2]}},shopping:{codeName:"tCodeShopping",title:"商圈選單",column:{col:[2,2],md:[4,2]}},}[(e=-1==e.indexOf("duty")?e.split("_")[0]:e)]}),$self)},this),document.addEventListener("readystatechange",function(){"complete"==document.readyState&&"function"!=typeof open1111Menu&&(open1111Menu=_open1111Menu)});